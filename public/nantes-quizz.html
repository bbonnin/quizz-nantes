<!doctype html>
<html ng-app="quizzApp">

<head>
    <title>Quizz</title>
    <link rel="stylesheet" href="//storage.googleapis.com/code.getmdl.io/1.0.4/material.indigo-pink.min.css">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en">
    <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
    <!--<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/css/materialize.min.css">-->
    <link rel="stylesheet" href="/css/quizz.css">
</head>

<body ng-controller="quizzController">
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular.min.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.4.6/angular-route.min.js"></script>
<script src="//cdn.socket.io/socket.io-1.2.0.js"></script>
<script src="//code.jquery.com/jquery-1.11.1.js"></script>
<script src="//storage.googleapis.com/code.getmdl.io/1.0.4/material.min.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.1/js/materialize.min.js"></script>
<script src="/js/quizz.js"></script>

<!------------------------------------------------ HEADER ------------------------------------------------>
<header class="mdl-layout__header">
    <div class="mdl-layout__header-row">
        <span class="mdl-layout-title">Naoned Quizz</span>

        <div class="mdl-layout-spacer"></div>
        <nav class="mdl-navigation mdl-layout--large-screen-only">
            <a class="mdl-navigation__link" href="" ng-click="disconnect()">Quitter</a>
        </nav>
    </div>
</header>

<!------------------------------------------------ Page de login ------------------------------------------------>
<div id="loginPart" ng-show="state.login_in">
    <div class="connection-card mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title mdl-card--expand">
            <h2 class="mdl-card__title-text">Bienvenue</h2>
        </div>
        <form id="connect" ng-submit="connect()">
            <div class="mdl-card__supporting-text">
                <div class="mdl-textfield mdl-js-textfield">
                    <input class="mdl-textfield__input" type="text" ng-model="nickname"/>
                    <label class="mdl-textfield__label" for="nickname">Entrer un nom...</label>
                </div>
            </div>
            <div class="mdl-card__actions mdl-card--border">
                <input type="submit" class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect"
                       value="Connexion"/>
            </div>
        </form>
    </div>
</div>

<!------------------------------------------------ Attente debut quizz ------------------------------------------------>
<div id="waitingQuizzPart" ng-show="state.waiting_quizz">
    <div class="connection-card mdl-card mdl-shadow--2dp">
        <div class="mdl-card__title mdl-card--expand">
            <h2 class="mdl-card__title-text">Attente de la prochaine question</h2>
        </div>
        <!-- MDL Progress Bar with Indeterminate Progress -->
        <div id="p2" class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
    </div>
</div>

<!------------------------------------------------ Question ------------------------------------------------>
<div id="questionPart" ng-show="state.question || state.answer_question || state.end_question">
    <div class="mdl-grid">

    </div>
    <div class="mdl-grid">
        <div class="mdl-cell mdl-cell--9-col">
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--12-col">
                    <h4>{{question.intitule}}
                        </h4>
                    <!-- MDL Progress Bar with Buffering -->
                    <div id="p3" class="mdl-progress mdl-js-progress" style="width: 100%; height: 30px;"></div>

                </div>

            </div>
            <div class="mdl-grid">
                <div class="mdl-cell mdl-cell--4-col">
                    <div class="demo-card-wide mdl-card mdl-shadow--2dp" style="width: 95%;" ng-class="{ 'good_card': 0 == goodAnswerId }">
                        <div class="mdl-card__actions mdl-card--border" >
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent"
                                    ng-click="user_answer(0)" style="width: 100%" ng-show="state.question">
                                Choisir
                            </button>
                            <span ng-show="state.answer_question && answerId == 0"><i class="material-icons">check_circle</i></span>
                        </div>
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">{{question.answers[0]}}</h2>
                        </div>
                    </div>
                </div>

                <div class="mdl-cell mdl-cell--4-col">
                    <div class="demo-card-wide mdl-card mdl-shadow--2dp" style="width: 95%" ng-class="{ 'good_card': 1 == goodAnswerId }">
                        <div class="mdl-card__actions mdl-card--border">
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent"
                                    ng-click="user_answer(1)" style="width: 100%"  ng-show="state.question">
                                Choisir
                            </button>
                            <span ng-show="state.answer_question && answerId == 1"><i class="material-icons">check_circle</i></span>
                        </div>
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">{{question.answers[1]}}</h2>
                        </div>
                    </div>
                </div>

                <div class="mdl-cell mdl-cell--4-col">
                    <div class="demo-card-wide mdl-card mdl-shadow--2dp" style="width: 95%;" ng-class="{ 'good_card': 2 == goodAnswerId }">
                        <div class="mdl-card__actions mdl-card--border">
                            <button class="mdl-button mdl-js-button mdl-button--raised mdl-button--accent" ng-click="user_answer(2)" style="width: 100%"  ng-show="state.question">
                                Choisir
                            </button>
                            <span ng-show="state.answer_question && answerId == 2"><i class="material-icons">check_circle</i></span>
                        </div>
                        <div class="mdl-card__title">
                            <h2 class="mdl-card__title-text">{{question.answers[2]}}</h2>
                        </div>
                    </div>
                </div>


            </div>

        </div>
        <div class="mdl-cell mdl-cell--3-col" ng-show="userAnswers">
            <h4>Who win ?</h4>
            <h4 ng-show="userAnswers.length > 0"><i class="material-icons">looks_one</i>{{userAnswers[0]}}</h4>

            <h4 ng-show="userAnswers.length > 1"><i class="material-icons">looks_two</i>{{userAnswers[1]}}</h4>

            <h4 ng-show="userAnswers.length > 2"><i class="material-icons">looks_3</i>{{userAnswers[2]}}</h4>

        </div>
    </div>
</div>

<!------------------------------------------------ Fin quizz ------------------------------------------------>
<div id="endQuizzPart" ng-show="state.end_quiz">
    <div class="connection-card mdl-card mdl-shadow--2dp" style="width: 75%">
        <div class="mdl-card__title mdl-card--expand">

        </div>
        <div class="mdl-card__title mdl-card--expand" style="background: #fc8c84">

            <h5>Vainqueur : </h5>

            <h2> Bob le terrible</h2>

        </div>

        <div class="mdl-card__title mdl-card--expand">
            <h2 class="mdl-card__title-text">Attente du prochain quizz</h2>
        </div>
        <!-- MDL Progress Bar with Indeterminate Progress -->
        <div class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
    </div>
</div>


</body>
</html>

